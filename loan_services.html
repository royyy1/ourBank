<html>
    <head>
        <title>Loan Services</title>
    </head>
    <style>
        #bodycontent label { 
            padding-left:5px;
            display:block 
        }
        #bodycontent fieldset { 
            padding-left: 100px 
       
       
        }
        #bodycontent input span{
            margin: 0 0 2px;
        }
        h2{
            color: red;
            text-align: center;
        }

        h3{
            color: red;
            text-align: center;
        }
        .instructions{
            margin: 0;
            padding: 0;
            border: 1px black;

        }

    </style>
    <script>
        function calEMI(){
                calDur();
                var P = document.f1.am.value;
                var N = document.f1.dur.value;
                var R = calRoi();
                var emi = P * R * (1+R)^N / [(1+R)^N-1] ;
                document.getElementById("emi").innerText = emi;
            }

         function calRoi(){
             var loanType = document.getElementById("loan").value;
             var roi = 1;
             if(loanType=="home"){
                roi = 7;
             }else if(loanType=="personal"){
                 roi = 12;
             }else{
                 roi=9;
             }
             return roi;
         }   
         function displayRoi(){
             var roi = calRoi();
            document.getElementById("roi").innerText = roi;
         }

         function calDur(){
            var loanType = document.getElementById("loan").value;
            var duration = document.getElementById("duration").value;
            var val = false;
            if(loanType=="home" && (duration>0 && duration<=25)){
                val = true;
            }else if(loanType=="personal"&& (duration>0 && duration<=5)){
                val = true;
            }else if(loanType=="car"&& (duration>0 && duration<=7)){
                val = true;
            }else{
                val = false;
            }

            if(!val){
                alert("Kindly provide valid duration for the type of loan choosed.")
            }
        }
            function abc(){
            let type=document.getElementById("loan").value
           
            let roi;
            if(type==="home"){
                roi=7
            }else if(type==="personal"){
                roi=12
            }else if(type==="car"){
                roi=9
            }
            document.getElementById("roi").value=roi
            return roi
        }
            function cde(){
            let duration=document.getElementById("duration").value
            return duration
        }
        function calcuEMI(){
           let R=abc();
           let N=cde();
           let val = false;
           let loanType = document.getElementById("loan").value;
           if(loanType=="home" && (N>0 && N<=25)){
                val = true;
            }else if(loanType=="personal"&& (N>0 && N<=5)){
                val = true;
            }else if(loanType=="car"&& (N>0 && N<=7)){
                val = true;
            }else{
                val = false;
            }

            if(!val){
                alert("Kindly choose proper duration for the loan choosen");
                document.getElementById("myForm").reset();
            
            }else{
                let P=document.getElementById("amount").value;
                var emi = P * R * (1+R)^N / [(1+R)^N-1] ;
                document.getElementById("emi").innerText = emi;
            }
           
         
         }
    </script>
    <link rel="stylesheet" href="menu.css">
    <body>
        <ul>
            <li><a class="active" href="index.html">Home</a></li>
            <li> <a href="about.html">About Us</a></li>
            <li> <a href="service.html">Services</a></li>
            <li> <a href="netbanking.html">NetBanking</a></li>
            <li><a href="contact.html">Contact Us</a></li>
          </ul>
        <div class="instructions" id="1">
            <h3>Please provide below details to get EMI details for loan</h3>
        <h2>Kindly select the appropriate type of loan from the dropdown mentioned in the below form</h2>
        </div>
        

        <div id="bodycontent">
            <form name="f1" id="myForm">
                <fieldset>
                    <legend>Loan Form</legend>
                <label for="appName">Applicant Name</label>
                <input type="text" id="appName" name="app" class="table-form" required><br>
                <label for="amount">Amount</label>
                <input type="number" id="amount" name="am" class="table-form" required><br>
                <label for="loan">Type of Loan</label>
                <select name="loan" id="loan" onchange="abc()" required>
                    <option  disabled selected>Select Type</option>
                    <option value="home">Home Loan</option>
                    <option value="personal">Personal Loan</option>
                    <option value="car">Car Loan</option>
                  </select>
                <br>
                <br>
                <label for="roi">Rate of Interest</label>
                <input type="text" id="roi" name="roi" class="table-form" disabled ><br>
                <label for="duration">Duration</label>
                <input type="text" id="duration" name="dur"class="table-form" oninput="cde()" required><br>
                <br>
                <input type="button" value="Calculate" onClick="calcuEMI()">
                <br>
                <label for="emi">EMI Amount</label>
                <span id="emi" disabled></span>
                <br>
            </fieldset>  
            </form>
        </div>
        <footer>
            <a href="contact.html">Contact</a></p>
            <p>Â© Our Bank Private Ltd.</p>
            <p>Terms and Conditions</p>
          </footer>
        
    </body>
</html>